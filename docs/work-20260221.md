# Work Log - 2026.02.21

## 1. Settings System 구현

### 신규 파일 (3개)

| 파일 | 설명 |
|------|------|
| `portal/src/lib/settings.ts` | localStorage CRUD + `diffValue()` 난이도 보간 헬퍼 |
| `portal/src/store/useSettingsStore.ts` | Zustand 설정 스토어 (nickname, avatar, difficulty) |
| `portal/src/components/layout/SettingsModal.tsx` | 설정 모달 UI (아바타, 닉네임, 난이도 슬라이더) |

### 수정 파일 (2개)

| 파일 | 변경 내용 |
|------|-----------|
| `portal/src/config/constants.ts` | `SETTINGS_STORAGE_KEY`, `DEFAULT_NICKNAME`, `DEFAULT_AVATAR`, `DEFAULT_DIFFICULTY`, `DIFFICULTY_LABELS`, `AVATAR_OPTIONS` 상수 추가 |
| `portal/src/components/layout/UserPanel.tsx` | SVG 아이콘 -> 아바타 이미지, "Guest" -> 동적 닉네임, 톱니바퀴(설정) 버튼 추가, SettingsModal 렌더링 |

### 주요 기능

- **아바타 선택**: 5열 그리드, `next/image`, 선택 시 accent 보더 + 체크마크 오버레이
- **닉네임 변경**: 최대 20자, blur/Enter 시 localStorage 저장
- **난이도 슬라이더**: 1~5 (Very Easy ~ Very Hard), 틱 마크 + 라벨 표시
- **localStorage 영속성**: 페이지 새로고침 후에도 설정 유지 확인 완료

---

## 2. Difficulty Integration (난이도 연동) - 20개 게임

`diffValue(difficulty, easyVal, normalVal, hardVal)` 함수로 선형 보간 적용.
d=1 -> easyVal, d=3 -> normalVal, d=5 -> hardVal.

### 수정된 게임 파일 (20개)

#### Action/Speed 게임 (12개)

| 게임 | 파일 | 조정 파라미터 |
|------|------|---------------|
| Pong | `pong/PongGame.ts` | ballSpeed(10/15/22), paddleH(140/110/80), paddleSpeed(9/7/5) |
| Snake | `snake/SnakeGame.ts` | moveInterval(180/130/80) |
| Tetris | `tetris/TetrisGame.ts` | dropInterval(350/215/120) |
| Space Invaders | `space-invaders/SpaceInvadersGame.ts` | shipSpeed, lives, alienSpeed 배율, laserDelay |
| Breakout | `breakout/BreakoutGame.ts` | ballSpeed(7/10/14), paddleW(150/120/90) |
| Asteroids | `asteroids/AsteroidsGame.ts` | asteroidSpeed(1.0/1.5/2.2), fireCooldown(100/150/220) |
| Pac-Man | `pacman/PacManGame.ts` | ghostSpeed(3.5/4.5/5.5), scaredMs(9000/7000/5000) |
| Doodle Jump | `doodle-jump/DoodleJumpGame.ts` | monsterSpawnChance, platGapMax |
| Rhythm | `rhythm/RhythmGame.ts` | noteSpeed, perfectWindow, maxHp |
| Type Attack | `typing/TypingGame.ts` | lives, spawnInterval 배율, baseSpeed 배율 |
| Whack-a-Mole | `whack-a-mole/WhackAMoleGame.ts` | gameDuration, visibleDuration 배율 |
| Tower Defense | `tower-defense/TowerDefenseGame.ts` | lives, gold, enemy HP/speed 배율 |

#### AI/Turn-based 게임 (4개)

| 게임 | 파일 | 조정 파라미터 |
|------|------|---------------|
| Connect Four | `connect4/Connect4Game.ts` | minimax depth(2/5/7) |
| Checkers | `checkers/CheckersGame.ts` | base depth(2/4/6) |
| Sudoku | `sudoku/SudokuGame.ts` | removeCount(28/40/52) |
| Hangman | `hangman/HangmanGame.ts` | maxWrong(9/6/4) |

#### 기타 게임 (4개)

| 게임 | 파일 | 조정 파라미터 |
|------|------|---------------|
| Wordle | `wordle/WordleGame.ts` | rows/시도 횟수(8/6/5) |
| Memory Match | `memory-match/MemoryMatchGame.ts` | flipBackMs 배율 |
| Bubble Shooter | `bubble-shooter/BubbleShooterGame.ts` | shootSpeed(10/12/15) |
| Simon Says | `simon-says/SimonSaysGame.ts` | lightMs/gapMs 배율 |

#### 난이도 미적용 게임 (5개)

- Falling Sand (샌드박스), Solitaire (RNG), Brick Builder (창작), Sokoban (고정 퍼즐), Pipe Puzzle (고정 퍼즐)

---

## 3. README 전면 개편

### 변경 사항

| 파일 | 변경 전 | 변경 후 |
|------|---------|---------|
| `README.md` | Python 게임 5개만 소개 (영어) | 한국어, 웹 포털 + Python 게임 전체 포함 (25개 게임 목록) |
| `README-en.md` | 존재하지 않았음 (기존 README-ko.md) | 영어 버전 신규 작성 |

### README 구성

- 프로젝트 구조 (상세 디렉토리 트리: 26개 게임 디렉토리 포함)
- 웹 포털 소개 (GP 시스템, 설정, 난이도)
- 게임 목록 (카테고리별 테이블: 아케이드, 리듬, 퍼즐, 창작, 기억력)
- Python 게임 원본 섹션
- 설치 및 실행 방법
- 기술 스택 (Next.js 16, Tailwind v4, Zustand, Canvas 2D)
- 게임별 특징 요약 테이블 (26개 게임, 플랫폼/OOP/사운드/AI/물리)

---

## 4. UI 개선

- 아바타 그리드: `grid-cols-6` -> `grid-cols-5` 변경
- 설정 모달: `max-h-[85vh]` + 스크롤 가능 콘텐츠 영역 추가
- 아바타 크기: 고정 `w-12 h-12` -> `aspect-square` 반응형으로 변경

---

## 검증 결과

- TypeScript 컴파일: 에러 없음
- Next.js 빌드 (`npm run build`): 성공
- 설정 모달 동작: 아바타/닉네임/난이도 변경 + localStorage 영속성 확인
- 20개 게임 파일 모두 `useSettingsStore` + `diffValue` import 확인
